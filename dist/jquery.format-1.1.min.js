/*
 * jQuery Format Plugin v1.1
 * http://www.asual.com/jquery/format/
 *
 * Copyright (c) 2009-2010 Rostislav Hristov
 * Uses code by Matt Kruse
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2010-03-20 22:17:09 +0200 (Sat, 20 Mar 2010)
 */
(function(z){z.format=function(){var o={date:{format:"dddd, MMMM dd, yyyy h:mm:ss tt",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],timeFormat:"h:mm tt",shortDateFormat:"M/d/yyyy",longDateFormat:"dddd, MMMM dd, yyyy"},
number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(c){a={a:6};if(c)for(var h in c)for(var f in c[h])o[h][f]=c[h][f];return o},date:function(c,h){var f=0,g=0,b=0;b=g="";var e,m;if(typeof c=="string"){var n=function(q,v,y,w){for(w=w;w>=y;w--){var x=q.substring(v,v+w);if(x.length>=y&&(new RegExp(/^\d+$/)).test(x))return x}return null};if(typeof h=="undefined")h=o.date.format;var d=0,l=new Date,k=l.getYear(),i=l.getMonth()+1,r=1,j=l.getHours(),t=l.getMinutes(),
u=l.getSeconds();l=l.getMilliseconds();for(var s="",p;f<h.length;){b="";for(g=h.charAt(f);h.charAt(f)==g&&f<h.length;)b+=h.charAt(f++);if(b.indexOf("MMMM")>-1&&b.length>4)b="MMMM";if(b.indexOf("EEEE")>-1&&b.length>4)b="EEEE";if(b=="yyyy"||b=="yy"||b=="y"){if(b=="yyyy")m=e=4;if(b=="yy")m=e=2;if(b=="y"){e=2;m=4}k=n(c,d,e,m);if(k===null)return 0;d+=k.length;if(k.length==2){k=parseInt(k,10);k=k>70?1900+k:2E3+k}}else if(b=="MMMM"){g=i=0;for(b=o.date.monthsFull.length;g<b;g++){p=o.date.monthsFull[g];if(c.substring(d,
d+p.length).toLowerCase()==p.toLowerCase()){i=g+1;d+=p.length;break}}if(i<1||i>12)return 0}else if(b=="MMM"){g=i=0;for(b=o.date.monthsShort.length;g<b;g++){p=o.date.monthsShort[g];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){i=g+1;d+=p.length;break}}if(i<1||i>12)return 0}else if(b=="EEEE"){g=0;for(b=o.date.daysFull.length;g<b;g++){p=o.date.daysFull[g];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){d+=p.length;break}}}else if(b=="EEE"){g=0;for(b=o.date.daysShort.length;g<
b;g++){p=o.date.daysShort[g];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){d+=p.length;break}}}else if(b=="MM"||b=="M"){i=n(c,d,1,2);if(i===null||i<1||i>12)return 0;d+=i.length}else if(b=="dd"||b=="d"){r=n(c,d,1,2);if(r===null||r<1||r>31)return 0;d+=r.length}else if(b=="hh"||b=="h"){j=n(c,d,1,2);if(j===null||j<1||j>12)return 0;d+=j.length}else if(b=="HH"||b=="H"){j=n(c,d,1,2);if(j===null||j<0||j>23)return 0;d+=j.length}else if(b=="KK"||b=="K"){j=n(c,d,1,2);if(j===null||j<0||j>11)return 0;
d+=j.length}else if(b=="kk"||b=="k"){j=n(c,d,1,2);if(j===null||j<1||j>24)return 0;d+=j.length;j--}else if(b=="mm"||b=="m"){t=n(c,d,1,2);if(t===null||t<0||t>59)return 0;d+=t.length}else if(b=="ss"||b=="s"){u=n(c,d,1,2);if(u===null||u<0||u>59)return 0;d+=u.length}else if(b=="SSS"||b=="SS"||b=="S"){l=n(c,d,1,3);if(l===null||l<0||l>999)return 0;d+=l.length}else if(b=="a"){s=c.substring(d,d+2).toLowerCase();if(s=="am")s="AM";else if(s=="pm")s="PM";else return 0;d+=2}else if(b!=c.substring(d,d+b.length))return 0;
else d+=b.length}if(d!=c.length)return 0;if(i==2)if(k%4===0&&k%100!==0||k%400===0){if(r>29)return 0}else if(r>28)return 0;if(i==4||i==6||i==9||i==11)if(r>30)return 0;if(j<12&&s=="PM")j=j-0+12;else if(j>11&&s=="AM")j-=12;return new Date(k,i-1,r,j,t,u,l)}else{f=function(q,v){if(typeof v=="undefined"||v==2)return(q>=0&&q<10?"0":"")+q;else{if(q>=0&&q<10)return"00"+q;if(q>=10&&q<100)return"0"+q;return q}};if(typeof h=="undefined")h=o.date.format;m=c.getYear();if(m<1E3)m=String(m+1900);n=c.getMonth()+1;
d=c.getDate();k=c.getDay();i=c.getHours();r=c.getMinutes();e=c.getSeconds();j=c.getMilliseconds();c={y:m,yyyy:m,yy:String(m).substring(2,4),M:n,MM:f(n),MMM:o.date.monthsShort[n-1],MMMM:o.date.monthsFull[n-1],d:d,dd:f(d),EEE:o.date.daysShort[k],EEEE:o.date.daysFull[k],H:i,HH:f(i)};c.h=i===0?12:i>12?i-12:i;c.hh=f(c.h);c.k=i+1;c.kk=f(c.k);c.K=i>11?i-12:i;c.KK=f(c.K);c.a=i>11?"PM":"AM";c.m=r;c.mm=f(r);c.s=e;c.ss=f(e);c.S=j;c.SS=f(j);c.SSS=f(j,3);m="";f=0;b=g="";for(e=false;f<h.length;){b="";g=h.charAt(f);
if(g=="'"){f++;if(h.charAt(f)==g){m+=g;f++}else e=!e}else{for(;h.charAt(f)==g;)b+=h.charAt(f++);if(b.indexOf("MMMM")!=-1&&b.length>4)b="MMMM";if(b.indexOf("EEEE")!=-1&&b.length>4)b="EEEE";m+=typeof c[b]!="undefined"&&!e?c[b]:b}}return m}},number:function(c,h){var f,g,b,e;if(typeof c=="string"){f=o.number.groupingSeparator;g=o.number.decimalSeparator;b=c.indexOf(g);e=1;if(b!=-1)e=Math.pow(10,c.length-b-1);c=c.replace(new RegExp("["+f+"]","g"),"");c=c.replace(new RegExp("["+g+"]"),".");return parseInt(c*
e,10)/e}else{if(typeof h=="undefined"||h.length<1)h=o.number.format;var m="",n="";f=",";f=h.lastIndexOf(f);g=".";b=h.indexOf(g);if(b!=-1){n=o.number.decimalSeparator;g=h.substr(b+1).replace(/#/g,"").length;var d=h.substr(b+1).length;if(d>0){e=1E3;var l=Math.pow(10,d),k=Math.round(parseInt(c*l*e-Math.round(c)*l*e,10)/e);l=String(k<0?Math.round(parseInt(c*l*e-parseInt(c,10)*l*e,10)/e):k);k=c.toString().split(".");if(typeof k[1]!="undefined")for(e=0;e<k[1].length;e++)if(k[1].substr(e,1)=="0")l="0"+l;
else break;for(e=0;e<d-n.length;e++)l+="0";k="";for(e=0;e<l.length;e++){d=l.substr(e,1);if(e>=g&&d=="0"&&/^0*$/.test(l.substr(e+1)))break;k+=d}n+=k}if(n==o.number.decimalSeparator)n=""}if(b!==0){m=n!=""?String(Math.floor(c)):String(Math.round(c));c=o.number.groupingSeparator;g=0;if(f!=-1){g=b!=-1?b-f:h.length-f;g--}if(g>0){f=0;d="";for(e=m.length;e--;){if(f!==0&&f%g===0)d=c+d;d=m.substr(e,1)+d;f++}m=d}h=b!=-1?h.substr(0,b).replace(new RegExp("#|"+c,"g"),"").length:h.replace(new RegExp("#|"+c,"g"),
"").length;for(e=m.length;e<h;e++)m="0"+m}return result=m+n}}}}()})(jQuery);
